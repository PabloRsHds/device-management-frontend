<!-- Device Update Modal -->
<div class="update-modal">
  <div class="update-modal-content">

    <!-- Header com t√≠tulo e bot√£o fechar -->
    <div class="modal-header">
      <h1 class="form-title">Update Device</h1>
      <button class="close-button" (click)="closeModalDeviceUpdate()" title="Close">
        <span>√ó</span>
      </button>
    </div>

    <form method="put" [formGroup]="updateForm" (ngSubmit)="handleUpdate()">
      <div class="form-container">

        <!-- Update Device Name -->
        <div class="form-section" *ngIf="!updateDeviceName">
          <button class="toggle-btn" type="button" (click)="updateDeviceName = true">
            <span class="btn-icon">üìù</span>
            Update Device Name
            <span class="arrow">‚Üí</span>
          </button>
        </div>

        <div class="form-section active" *ngIf="updateDeviceName">
          <div class="input-group">
            <label class="input-label">
              <span class="label-icon">üìù</span>
              Device Name
            </label>
            <div class="input-container">
              <input
                type="text"
                formControlName="newName"
                class="form-input"
                placeholder="Enter new device name"
                autocomplete="off"
              >
              <button
                type="button"
                class="input-close"
                (click)="updateDeviceName = false"
                title="Cancel update"
              >
                √ó
              </button>
            </div>
          </div>
        </div>

        <!-- Update Device Model -->
        <div class="form-section" *ngIf="!updateDeviceModel">
          <button class="toggle-btn" type="button" (click)="updateDeviceModel = true">
            <span class="btn-icon">üñ•Ô∏è</span>
            Update Device Model
            <span class="arrow">‚Üí</span>
          </button>
        </div>

        <div class="form-section active" *ngIf="updateDeviceModel">
          <div class="input-group">
            <label class="input-label">
              <span class="label-icon">üñ•Ô∏è</span>
              Device Model
            </label>
            <div class="input-container">
              <input
                type="text"
                formControlName="newDeviceModel"
                class="form-input"
                placeholder="Enter new device model"
                autocomplete="off"
              >
              <button
                type="button"
                class="input-close"
                (click)="updateDeviceModel = false"
                title="Cancel update"
              >
                √ó
              </button>
            </div>
          </div>
        </div>

        <!-- Update Manufacturer -->
        <div class="form-section" *ngIf="!updateManufacturer">
          <button class="toggle-btn" type="button" (click)="updateManufacturer = true">
            <span class="btn-icon">üè≠</span>
            Update Manufacturer
            <span class="arrow">‚Üí</span>
          </button>
        </div>

        <div class="form-section active" *ngIf="updateManufacturer">
          <div class="input-group">
            <label class="input-label">
              <span class="label-icon">üè≠</span>
              Manufacturer
            </label>
            <div class="input-container">
              <input
                type="text"
                formControlName="newManufacturer"
                class="form-input"
                placeholder="Enter new manufacturer"
                autocomplete="off"
              >
              <button
                type="button"
                class="input-close"
                (click)="updateManufacturer = false"
                title="Cancel update"
              >
                √ó
              </button>
            </div>
          </div>
        </div>

        <!-- Update Location -->
        <div class="form-section" *ngIf="!updateLocation">
          <button class="toggle-btn" type="button" (click)="updateLocation = true">
            <span class="btn-icon">üìç</span>
            Update Location
            <span class="arrow">‚Üí</span>
          </button>
        </div>

        <div class="form-section active" *ngIf="updateLocation">
          <div class="input-group">
            <label class="input-label">
              <span class="label-icon">üìç</span>
              Location
            </label>
            <div class="input-container">
              <textarea
                rows="3"
                formControlName="newLocation"
                class="form-input textarea"
                placeholder="Enter new location"
              ></textarea>
              <button
                type="button"
                class="input-close textarea-close"
                (click)="updateLocation = false"
                title="Cancel update"
              >
                √ó
              </button>
            </div>
          </div>
        </div>

        <!-- Update Description -->
        <div class="form-section" *ngIf="!updateDescription">
          <button class="toggle-btn" type="button" (click)="updateDescription = true">
            <span class="btn-icon">üìÑ</span>
            Update Description
            <span class="arrow">‚Üí</span>
          </button>
        </div>

        <div class="form-section active" *ngIf="updateDescription">
          <div class="input-group">
            <label class="input-label">
              <span class="label-icon">üìÑ</span>
              Description
            </label>
            <div class="input-container">
              <textarea
                rows="4"
                formControlName="newDescription"
                class="form-input textarea"
                placeholder="Enter new description"
              ></textarea>
              <button
                type="button"
                class="input-close textarea-close"
                (click)="updateDescription = false"
                title="Cancel update"
              >
                √ó
              </button>
            </div>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="action-buttons">
          <button
            type="submit"
            class="submit-btn"
            [disabled]="!updateForm.valid"
            [class.disabled]="!updateForm.valid"
          >
            <span class="btn-icon">‚úì</span>
            Update Device
          </button>

          <button
            type="button"
            class="cancel-btn"
            (click)="closeModalDeviceUpdate()"
          >
            <span class="btn-icon">‚úï</span>
            Cancel
          </button>
        </div>

        <!-- Form Status -->
        <div class="form-status" *ngIf="updateForm.valid">
          <div class="status-indicator">
            <span class="status-icon">‚úì</span>
            <span class="status-text">Form is ready to submit</span>
          </div>
        </div>

      </div>
    </form>

  </div>
</div>
